to allow handling of custom URLs on OS X we need to make a specially crafted App and
edit its Info.plist file, as below to add handling of the pyme: URL type:

	<key>CFBundleIdentifier</key>
	<string>com.pyme.AppleScript.pyme</string>
	<key>CFBundleURLTypes</key>
	<array>
	  <dict>
	    <key>CFBundleURLName</key>
	    <string>Pyme</string>
	    <key>CFBundleURLSchemes</key>
	    <array>
	      <string>pyme</string>
	    </array>
	  </dict>
	</array>

The app is most easily made by using apple scripting, the PYME url opener simply calls a bash script that invokes the appropriate python file, passes the URL and sets required environment variables:

on open location this_URL
	do shell script "/bin/bash /Users/csoelle/Documents/src/PYMEapps/pyme-urlopen.sh '" & this_URL & "'"
end open location


the pyme-urlopen.sh scripts is simply:

#!/bin/bash
export PATH="/Library/Frameworks/Python.framework/Versions/Current/bin:${PATH}"
export PYMENASPATH=/mnt/smb/nas2/
PYTHONPATH=/Users/csoelle/Documents/src/PYME-nf/ urlOpener.py $*

