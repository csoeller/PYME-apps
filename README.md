# OS X (now macOS) wrappers for PYME

This package is a very lightweight wrapper around several PYME applications (see http://python-microscopy.org) and related python applications
to make them easily accessible in the usual mac GUI environment.
Instead of getting into mac framework GUI coding I was able to bypass all that and use the excellent [platypus](https://sveinbjorn.org/platypus)
developer tool by Sveinbjörn Þórðarson. The current installation on my system was built and tested with platypus version 5.2.

The installation based on platypus offers a very unix like mode of usage where GUI apps are constructed by calling the command line version of
platypus, so that all apps can be built from
a makefile that calls the platypus command line interface. As a result building the interfaces is very easy once you installed Platypus and its
[command line tool](https://sveinbjorn.org/files/manpages/platypus.man.html).

The few scripts that are needed are generated by a short Python script that expands variables as required so that paths, environments,
etc can be simply set and changed.

### Setting default environment via macOS preferences

The conda environment for viewers (visgui, dh5view etc) can no be set via the defaults command, as:

	defaults write org.python-microscopy.PymeApps ViewerCondaEnvironment test-pyme-3.11-conda_1
	
Similarly, for the notebookserver:

	defaults write org.python-microscopy.PymeApps NotebookCondaEnvironment test-pyme-3.11-conda_1

This should allow more dynamic switching without having to regenerate the apps.

Obviously also easier to screw things up this way if you use an invalid environment name in the write commands.

### iPython/jupyter notebook apps

The wrappers also include app wrappers around the jupyter notebook server and a launcher so that iPython notebooks can be openend
by doubleclicking in the finder on the associated `.ipynb` files. This was something that had bugged me for while.

## Installation

A few variables can be edited in the Makefile, such as the `PATH` used by the shell scripts, to match this to your local system.
This path needs to enable the python environment for which you installed PYME, or alternatively, have all the paths needed
to start the appropriate virtual environment. The examples  show how to use a virtualenv in which you
may have built a PYME version.

Installation should be as easy as downloading the repository, cd into is directory once unpacked and start the make process:

```
    # in your terminal type:
    make
    
```

## Dependencies

Install [platypus](https://sveinbjorn.org/platypus) and its command line interface. To install the command line tool you start platypus as GUI,
select `Preferences` and there have the option to install the command line tool using the dialogue box that comes up.
